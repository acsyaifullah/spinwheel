<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Spinwheel - Emdee Clinic</title>
  <!-- plugins:css -->
      <link rel="stylesheet" href="assets/vendors/iconfonts/mdi/css/materialdesignicons.min.css">
      <!-- <link rel="stylesheet" href="assets/vendors/css/vendor.bundle.base.css">
      <link rel="stylesheet" href="assets/vendors/css/vendor.bundle.addons.css"> -->
  <!-- endinject -->
  <!-- plugin css for this page -->
  <!-- End plugin css for this page -->
  <!-- inject:css -->
  <link rel="stylesheet" href="assets/css/style.css">
  <!-- endinject -->
  <link rel="shortcut icon" type="image/jpg" href="assets/fav.png"/>

  <script type="text/javascript" src="spinwheel.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js"></script>
  <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
  <style type="text/css">
      .the_wheel
      {
          background : url(assets/wheel_back.png) no-repeat;
          background-position : center;
      }
      @media only screen and (min-width: 767px) {
        .btnSpin {
          padding-top: 325px;
        }
      }
      .page-body-wrapper {
         background-color: transparent;!important;
      }
      body {
        background: url("assets/reg-bg.png") no-repeat center center fixed;
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;
      }
  </style>

</head>

<body>
  <div class="container-scroller">
    <!-- partial:../partials/_horizontal-navbar.html -->

    <!-- partial -->
    <div class="container-fluid page-body-wrapper">
      <!-- partial:../partials/_settings-panel.html -->
      <!-- <div class="theme-setting-wrapper">
        <div id="theme-settings" class="settings-panel">
          <i class="settings-close mdi mdi-close"></i>
          <div class="d-flex align-items-center justify-content-between border-bottom">
            <p class="settings-heading font-weight-bold border-top-0 mb-3 pl-3 pt-0 border-bottom-0 pb-0">Template Skins</p>
          </div>
          <div class="sidebar-bg-options selected" id="sidebar-dark-theme"><div class="img-ss rounded-circle bg-dark border mr-3"></div>Dark</div>
          <div class="sidebar-bg-options" id="sidebar-light-theme"><div class="img-ss rounded-circle bg-light border mr-3"></div>Light</div>
          <p class="settings-heading font-weight-bold mt-2">Header Skins</p>
          <div class="color-tiles mx-0 px-4">
            <div class="tiles primary"></div>
            <div class="tiles success"></div>
            <div class="tiles warning"></div>
            <div class="tiles danger"></div>
            <div class="tiles pink"></div>
            <div class="tiles info"></div>
            <div class="tiles dark"></div>
            <div class="tiles default"></div>
          </div>
        </div>
      </div> -->
      
      <!-- partial -->
      <div class="main-panel">
        <div class="content-wrapper">					
					
					<div class="row">
						
						<div class="col-md-6 col-sm-12 grid-margin stretch-card" style="margin-left: -75px;">
							<div class="card text-center" style="background-color: transparent!important; border: 0px!important">
								<div class="card-body" style="margin: -35.5px 0;">
									
                  <!-- PUT HERE -->
                  <table cellspacing="0" border="0" cellpadding="0">
                      <tr>
                          <td width="520" height="565" class="the_wheel" align="center" valign="center">
                            <a href="javascript:void(0);" onClick="theWheel.stopAnimation(false); theWheel.rotationAngle=0; theWheel.draw(); bigButton.disabled=false;">&nbsp;&nbsp;&nbsp;</a>
                              <canvas id="canvas" class="tutCanvas" width="550" height="515">Canvas not supported</canvas>
                          </td>
                      </tr>
                  </table>
                  <!-- END HERE -->

								</div>
							</div>
						</div>

            <div class="col-md-6 col-sm-12 grid-margin stretch-card" style="margin-left: 75px">
              <div class="card text-center" style="background-color: transparent!important; border: 0px!important">
                <div class="card-body">
                  
                  <!-- PUT HERE -->
                  <table cellspacing="0" border="0" cellpadding="0">
                      <tr>
                          <td width="25%" class="btnSpin">
                              <button class="btn btn-rounded btn-danger" id='bigButton' class='bigButton' onClick="calculatePrize(); this.disabled=true;" style="margin-left: 40px">Spin sekarang !</button>
                              <!-- <a href="javascript:void(0);" onClick="theWheel.stopAnimation(false); theWheel.rotationAngle=0; theWheel.draw(); bigButton.disabled=false;">Reset</a> -->
                          </td>
                      </tr>
                  </table>
                  <!-- END HERE -->

                </div>
              </div>
            </div>
						
					</div>
					
        </div>
        <!-- content-wrapper ends -->
        <!-- partial:../partials/_footer.html -->
        <!-- <footer class="footer" style="margin-top: -50px; border: 0px!important; background-color: #c97a85!important">
          <div class="container-fluid clearfix">
            <span class="d-block text-center text-sm-left d-sm-inline-block" style="color: white">Copyright Â© 2021 The Emdee - Skin Clinic. All rights reserved.</span>
            <span class="float-none float-sm-right d-block mt-1 mt-sm-0 text-center" style="color: white">Hand-crafted & made with <i class="mdi mdi-heart text-danger"></i></span>
          </div>
        </footer> -->
        <!-- partial -->
      </div>
      <!-- main-panel ends -->
    </div>
    <!-- page-body-wrapper ends -->
  </div>

  <script>
      var theWheel = new Winwheel({
          'numSegments'       : 5,                 // Specify number of segments.
          'outerRadius'       : 200,               // Set outer radius so wheel fits inside the background.
          'drawText'          : true,              // Code drawn text can be used with segment images.
          'textFontSize'      : 16,
          'centerY'           : 265,
          'textOrientation'   : 'curved',
          'textAlignment'     : 'inner',
          'textMargin'        : 90,
          'textFontFamily'    : 'monospace',
          'textStrokeStyle'   : 'black',
          'textLineWidth'     : 3,
          'textFillStyle'     : 'white',
          'drawMode'          : 'segmentImage',    // Must be segmentImage to draw wheel using one image per segemnt.
          'segments'          :                    // Define segments including image and text.
          [
             {'image' : 'assets/prize1.png', 'caption' : '1 pcs Souvenir Emdee'},
             {'image' : 'assets/prize2.png', 'caption' : '1 pcs Gold Bar 0.1 gr'},
             {'image' : 'assets/prize3.png', 'caption' : '1 pcs Voucher 50.000'},
             {'image' : 'assets/prize4.png', 'caption' : '1 pcs Emdee Lab'},
             {'image' : 'assets/prize5.png', 'caption' : '1 pcs Free Voucher Treatment'}
          ],
          'animation' :
          {
              'type'          : 'spinToStop',
              'duration'      : 5,
              'spins'         : 5,
              'callbackFinished' : alertPrize
          }
      });
   
      // Function with formula to work out stopAngle before spinning animation.
      // Called from Click of the Spin button.
      function calculatePrize()
      {
          // This formula always makes the wheel stop somewhere inside prize 3 at least
          // 1 degree away from the start and end edges of the segment.
          // let stopAt = (30 + Math.floor((Math.random() * 43)))
          
          // Important thing is to set the stopAngle of the animation before stating the spin.
          let stopAt = 0
          do {
              stopAt = Math.floor((Math.random() * 359))
          }
          while ((stopAt > 70 && stopAt < 147) || (stopAt > 286 && stopAt < 360)) // untuk 2 hadiah yang ditolak
          // while (stopAt > 72 && stopAt < 146) // untuk 1 hadiah yang ditolak
          // while (stopAt > 360) // untuk bebas hadiah manapun
          // console.log(stopAt)

          theWheel.animation.stopAngle = stopAt;
          
          // May as well start the spin from here.
          theWheel.startAnimation();
          // console.log(stopAt);
      }

      function alertPrize(indicatedSegment)
      {
          // Do basic alert of the segment text.
          swal("Selamat!", "Kamu dapat " + indicatedSegment.caption, "warning");
          // alert("Selamat, kamu dapat " + indicatedSegment.caption);
      }
   
  </script>

  <!-- container-scroller -->
  <!-- plugins:js -->
      <!-- <script src="assets/vendors/js/vendor.bundle.base.js"></script>
      <script src="assets/vendors/js/vendor.bundle.addons.js"></script> -->
  <!-- endinject -->
  <!-- Plugin js for this page-->
  <!-- End plugin js for this page-->
  <!-- inject:js -->
      <!-- <script src="assets/js/hoverable-collapse.js"></script>
      <script src="assets/js/misc.js"></script>
      <script src="assets/js/template.js"></script> -->
  <!-- endinject -->
  <!-- Custom js for this page-->
  <!-- End custom js for this page-->
  
</body>

</html>
